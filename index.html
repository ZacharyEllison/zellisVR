<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>20:20:20</title>
    <link
      href="https://fonts.googleapis.com/css?family=Quicksand:400,700&display=swap"
      rel="stylesheet"
    />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wmurphyrd/aframe-super-hands@3.0.0/dist/aframe-super-hands.min.js"></script>
    <style>
      body {
        background-color: #2e3440; /* Nord background color */
      }
    </style>
  </head>
  <body>
    <a-scene>
      <a-entity id="camera" camera position="0 1.6 0">
        <a-entity
          id="left-hand"
          super-hands
          hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"
        ></a-entity>
        <a-entity
          id="right-hand"
          super-hands
          hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc"
        ></a-entity>
      </a-entity>

      <a-entity
        id="sign"
        geometry="primitive: plane; height: 0.5; width: 1"
        material="color: #A67B5B"
        position="0 1.6 -6.1"
        text="value: Take a deep breath!; align: center; font: https://cdn.aframe.io/fonts/Exo2Bold.fnt"
        a-animation="attribute: material.color; from: #A67B5B; to: red; dur: 500; repeat: 1"
        sound="src: url(hit-sound.mp3); on: hit"
      ></a-entity>
    </a-scene>

    <script>
      function spawnGrabbable() {
        const scene = document.querySelector("a-scene");
        const camera = document.querySelector("#camera");
        const grabbable = document.createElement("a-entity");

        grabbable.setAttribute("geometry", "primitive: sphere; radius: 0.1");
        grabbable.setAttribute("material", "color: #ffcc00");
        grabbable.setAttribute("grabbable", "");

        const cameraPosition = camera.getAttribute("position");
        grabbable.setAttribute(
          "position",
          `${cameraPosition.x} ${cameraPosition.y} ${cameraPosition.z - 1}`
        );

        scene.appendChild(grabbable);
      }

      setInterval(spawnGrabbable, 5000);
    </script>
  </body>
</html>
